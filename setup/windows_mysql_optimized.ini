# Optimized MySQL Configuration for Windows XAMPP with Laravel
# This configuration is optimized for high-performance Laravel applications on Windows

[mysqld]
# Performance Settings
innodb_buffer_pool_size = 1G
innodb_log_file_size = 256M
innodb_flush_log_at_trx_commit = 2
innodb_flush_method = O_DIRECT
innodb_file_per_table = 1
innodb_open_files = 400
innodb_io_capacity = 400
innodb_read_io_threads = 4
innodb_write_io_threads = 4

# Query Cache
query_cache_type = 1
query_cache_size = 64M
query_cache_limit = 2M

# Connection Settings
max_connections = 200
max_connect_errors = 1000
connect_timeout = 60
wait_timeout = 28800
interactive_timeout = 28800

# Memory Settings
key_buffer_size = 256M
sort_buffer_size = 2M
read_buffer_size = 2M
read_rnd_buffer_size = 8M
myisam_sort_buffer_size = 64M
thread_cache_size = 8

# Logging
slow_query_log = 1
slow_query_log_file = "C:/xampp/mysql/data/slow.log"
long_query_time = 2

# Character Set
character-set-server = utf8mb4
collation-server = utf8mb4_unicode_ci

# Windows-specific settings
port = 3306
socket = "C:/xampp/mysql/mysql.sock"
basedir = "C:/xampp/mysql"
datadir = "C:/xampp/mysql/data"
tmpdir = "C:/xampp/mysql/tmp"
pid-file = "C:/xampp/mysql/data/mysql.pid"

# Windows-specific performance
innodb_buffer_pool_instances = 1
innodb_log_buffer_size = 16M
innodb_log_files_in_group = 2
innodb_max_dirty_pages_pct = 75
innodb_io_capacity_max = 2000
innodb_read_ahead_threshold = 56
innodb_random_read_ahead = OFF
innodb_adaptive_hash_index = ON
innodb_change_buffering = all
innodb_old_blocks_time = 1000
innodb_stats_on_metadata = OFF
innodb_stats_persistent = ON
innodb_stats_persistent_sample_pages = 20
innodb_stats_transient_sample_pages = 8
innodb_use_native_aio = ON
innodb_flush_neighbors = 1
innodb_lru_scan_depth = 1024
innodb_checksum_algorithm = crc32
innodb_checksums = ON
innodb_doublewrite = ON
innodb_force_recovery = 0
innodb_file_format = Barracuda
innodb_file_format_check = ON
innodb_file_format_max = Barracuda
innodb_file_per_table = ON
innodb_flush_log_at_trx_commit = 2
innodb_flush_method = O_DIRECT
innodb_io_capacity = 400
innodb_io_capacity_max = 2000
innodb_lock_wait_timeout = 50
innodb_log_buffer_size = 16M
innodb_log_file_size = 256M
innodb_log_files_in_group = 2
innodb_log_group_home_dir = ./
innodb_max_dirty_pages_pct = 75
innodb_max_purge_lag = 0
innodb_max_purge_lag_delay = 0
innodb_mirrored_log_groups = 1
innodb_old_blocks_pct = 37
innodb_old_blocks_time = 1000
innodb_open_files = 400
innodb_purge_batch_size = 20
innodb_purge_threads = 1
innodb_random_read_ahead = OFF
innodb_read_ahead_threshold = 56
innodb_read_io_threads = 4
innodb_replication_delay = 0
innodb_rollback_on_timeout = OFF
innodb_spin_wait_delay = 6
innodb_stats_on_metadata = OFF
innodb_stats_persistent = ON
innodb_stats_persistent_sample_pages = 20
innodb_stats_sample_pages = 8
innodb_stats_transient_sample_pages = 8
innodb_strict_mode = OFF
innodb_support_xa = ON
innodb_sync_spin_loops = 30
innodb_table_locks = ON
innodb_thread_concurrency = 0
innodb_thread_sleep_delay = 10000
innodb_use_native_aio = ON
innodb_use_sys_malloc = ON
innodb_version = 5.7.44
innodb_write_io_threads = 4

# Windows-specific connection settings
max_connections = 200
max_connect_errors = 1000
connect_timeout = 60
wait_timeout = 28800
interactive_timeout = 28800
net_read_timeout = 30
net_write_timeout = 60
back_log = 80
max_allowed_packet = 64M
max_user_connections = 0
thread_cache_size = 8
thread_handling = one-thread-per-connection
thread_stack = 256K
transaction_alloc_block_size = 8192
transaction_prealloc_size = 4096

# Windows-specific memory settings
key_buffer_size = 256M
sort_buffer_size = 2M
read_buffer_size = 2M
read_rnd_buffer_size = 8M
myisam_sort_buffer_size = 64M
join_buffer_size = 2M
tmp_table_size = 32M
max_heap_table_size = 32M
bulk_insert_buffer_size = 8M
myisam_max_sort_file_size = 10G
myisam_sort_buffer_size = 64M
myisam_stats_method = nulls_unequal
myisam_use_mmap = OFF
myisam_recover_options = OFF
myisam_data_pointer_size = 6
myisam_max_extra_sort_file_size = 10G
myisam_repair_threads = 1
myisam_sort_buffer_size = 64M
myisam_stats_method = nulls_unequal
myisam_use_mmap = OFF
myisam_recover_options = OFF
myisam_data_pointer_size = 6
myisam_max_extra_sort_file_size = 10G
myisam_repair_threads = 1

# Windows-specific query cache
query_cache_type = 1
query_cache_size = 64M
query_cache_limit = 2M
query_cache_min_res_unit = 4096
query_cache_wlock_invalidate = OFF

# Windows-specific logging
slow_query_log = 1
slow_query_log_file = "C:/xampp/mysql/data/slow.log"
long_query_time = 2
log_queries_not_using_indexes = OFF
log_slow_admin_statements = OFF
log_slow_slave_statements = OFF
log_throttle_queries_not_using_indexes = 0
log_slow_queries = OFF
log_warnings = 2
log_error = "C:/xampp/mysql/data/mysql_error.log"
log_error_verbosity = 3
log_timestamps = UTC
log_slow_admin_statements = OFF
log_slow_slave_statements = OFF
log_throttle_queries_not_using_indexes = 0
log_slow_queries = OFF
log_warnings = 2
log_error = "C:/xampp/mysql/data/mysql_error.log"
log_error_verbosity = 3
log_timestamps = UTC

# Windows-specific character set
character-set-server = utf8mb4
collation-server = utf8mb4_unicode_ci
character-set-client-handshake = TRUE
character-set-connection = utf8mb4
character-set-database = utf8mb4
character-set-filesystem = binary
character-set-results = utf8mb4
character-set-server = utf8mb4
character-set-system = utf8mb4
character-sets-dir = "C:/xampp/mysql/share/charsets"
collation-connection = utf8mb4_unicode_ci
collation-database = utf8mb4_unicode_ci
collation-server = utf8mb4_unicode_ci

# Windows-specific storage engine
default-storage-engine = InnoDB
default-tmp-storage-engine = InnoDB
default-table-type = InnoDB
storage-engine = InnoDB

# Windows-specific InnoDB settings
innodb_adaptive_flushing = ON
innodb_adaptive_flushing_lwm = 10
innodb_adaptive_hash_index = ON
innodb_adaptive_hash_index_parts = 8
innodb_adaptive_max_sleep_delay = 150000
innodb_autoextend_increment = 64
innodb_autoinc_lock_mode = 1
innodb_buffer_pool_chunk_size = 134217728
innodb_buffer_pool_dump_at_shutdown = ON
innodb_buffer_pool_dump_now = OFF
innodb_buffer_pool_dump_pct = 100
innodb_buffer_pool_filename = ib_buffer_pool
innodb_buffer_pool_instances = 1
innodb_buffer_pool_load_abort = OFF
innodb_buffer_pool_load_at_startup = ON
innodb_buffer_pool_load_now = OFF
innodb_buffer_pool_size = 1G
innodb_change_buffering = all
innodb_change_buffer_max_size = 25
innodb_checksum_algorithm = crc32
innodb_checksums = ON
innodb_cmp_per_index_enabled = OFF
innodb_commit_concurrency = 0
innodb_compression_failure_threshold_pct = 5
innodb_compression_level = 6
innodb_compression_pad_pct_max = 50
innodb_concurrency_tickets = 5000
innodb_data_file_path = ibdata1:10M:autoextend
innodb_data_home_dir = ./
innodb_deadlock_detect = ON
innodb_default_row_format = dynamic
innodb_directories = 
innodb_disable_sort_file_cache = OFF
innodb_doublewrite = ON
innodb_doublewrite_pages = 32
innodb_doublewrite_batch_size = 0
innodb_fast_shutdown = 1
innodb_fill_factor = 100
innodb_flush_log_at_timeout = 1
innodb_flush_log_at_trx_commit = 2
innodb_flush_method = O_DIRECT
innodb_flush_neighbors = 1
innodb_flush_sync = ON
innodb_force_load_corrupted = OFF
innodb_force_recovery = 0
innodb_ft_aux_table = 
innodb_ft_cache_size = 8000000
innodb_ft_enable_diag_print = OFF
innodb_ft_enable_stopword = ON
innodb_ft_max_token_size = 84
innodb_ft_min_token_size = 3
innodb_ft_num_word_optimize = 2000
innodb_ft_result_cache_limit = 2000000000
innodb_ft_server_stopword_table = 
innodb_ft_sort_pll_degree = 2
innodb_ft_total_cache_size = 640000000
innodb_ft_user_stopword_table = 
innodb_io_capacity = 400
innodb_io_capacity_max = 2000
innodb_large_prefix = OFF
innodb_lock_wait_timeout = 50
innodb_log_buffer_size = 16M
innodb_log_checksum_algorithm = crc32
innodb_log_compressed_pages = ON
innodb_log_file_size = 256M
innodb_log_files_in_group = 2
innodb_log_group_home_dir = ./
innodb_log_optimize_ddl = ON
innodb_log_write_ahead_size = 8192
innodb_lru_scan_depth = 1024
innodb_max_dirty_pages_pct = 75
innodb_max_dirty_pages_pct_lwm = 0
innodb_max_purge_lag = 0
innodb_max_purge_lag_delay = 0
innodb_max_undo_log_size = 1073741824
innodb_merge_threshold_set_all_deleted = OFF
innodb_metadata_locks_hash_instances = 8
innodb_monitor_disable = 
innodb_monitor_enable = 
innodb_monitor_reset = 
innodb_monitor_reset_all = 
innodb_old_blocks_pct = 37
innodb_old_blocks_time = 1000
innodb_online_alter_log_max_size = 134217728
innodb_open_files = 400
innodb_optimize_fulltext_only = OFF
innodb_page_cleaners = 1
innodb_page_size = 16384
innodb_parallel_read_threads = 4
innodb_print_all_deadlocks = OFF
innodb_print_ddl_logs = OFF
innodb_purge_batch_size = 20
innodb_purge_rseg_truncate_frequency = 128
innodb_purge_threads = 1
innodb_random_read_ahead = OFF
innodb_read_ahead_threshold = 56
innodb_read_io_threads = 4
innodb_read_only = OFF
innodb_replication_delay = 0
innodb_rollback_on_timeout = OFF
innodb_rollback_segments = 128
innodb_sort_buffer_size = 1048576
innodb_spin_wait_delay = 6
innodb_stats_auto_recalc = ON
innodb_stats_include_delete_marked = OFF
innodb_stats_method = nulls_equal
innodb_stats_on_metadata = OFF
innodb_stats_persistent = ON
innodb_stats_persistent_sample_pages = 20
innodb_stats_sample_pages = 8
innodb_stats_transient_sample_pages = 8
innodb_status_output = OFF
innodb_status_output_locks = OFF
innodb_strict_mode = OFF
innodb_support_xa = ON
innodb_sync_array_size = 1
innodb_sync_spin_loops = 30
innodb_table_locks = ON
innodb_thread_concurrency = 0
innodb_thread_sleep_delay = 10000
innodb_tmpdir = 
innodb_undo_directory = ./
innodb_undo_log_truncate = OFF
innodb_undo_logs = 128
innodb_undo_tablespaces = 0
innodb_use_native_aio = ON
innodb_use_sys_malloc = ON
innodb_version = 5.7.44
innodb_write_io_threads = 4

[mysql]
default-character-set = utf8mb4

[client]
default-character-set = utf8mb4
